<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <h3 class="mb-5">User Registration Form</h3>

    <form method="post" action="<%= editUser ? '/updateData' : '/insertData' %>">
        <input type="hidden" name="userId" value="<%= editUser ? editUser.userId : '' %>">
        <table border="2" class="table">
            <tr>
                <td>Name</td>
                <td><input type="text" class="form-control" name="name" value="<%= editUser ? editUser.name : '' %>" required></td>
            </tr>

            <tr>
                <td>Email</td>
                <td><input type="email" class="form-control" name="email" value="<%= editUser ? editUser.email : '' %>" required></td>
            </tr>

            <tr>
                <td>Phone</td>
                <td><input type="tel" class="form-control" name="phone" value="<%= editUser ? editUser.phone : '' %>" required></td>
            </tr>

            <tr>
                <td>Password</td>
                <td><input type="password" class="form-control" name="password" value="<%= editUser ? editUser.password : '' %>" required></td>
            </tr>

            <tr>
                <td colspan="2">
                    <input type="submit" class="btn btn-secondary" value="<%= editUser ? 'Update' : 'Register' %>">
                </td>
            </tr>
        </table>
    </form>

    <br><br><br><br>

    <table border="2" class="table">
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Password</th>
            <th>Action</th>
        </tr>

        <% student.forEach((el) => { %>
            <tr>
               <td><%= el.name %></td>
                <td><%= el.email %></td>
                <td><%= el.phone %></td>
                <td><%= el.password %></td>
                <td>
                 
                        <a class="btn btn-danger" href="/deleteData?userId=<%= el.userId %>">Delete</a>
                   
                        <a class="btn btn-success" href="/editData?userId=<%= el.userId %>">Edit</a>
                    
                </td>
            </tr>
        <% }) %>
    </table>
</body>
</html>
